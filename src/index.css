@import "tailwindcss";

:root {
  color-scheme: dark;
  --app-bg: #000000;
  --app-surface: #121212;
  --app-primary: #f97316;
  --app-accent: #27272a;
}

[data-theme='asesorias'] {
  --app-bg: #0a0a0c;
  --app-surface: #151518;
  --app-primary: #a855f7;
  --app-accent: #7c3aed;
}

@theme {
  --color-primary: var(--app-primary);
  --color-surface: var(--app-surface);
  --color-background: var(--app-bg);
  --color-accent: var(--app-accent);
}

body {
  background-color: var(--app-bg);
  color: #d1d5db;
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
  -webkit-font-smoothing: antialiased;
  transition: background-color 0.3s ease, color 0.3s ease;
  margin: 0;
}

.bg-surface {
  background-color: var(--app-surface);
}

.text-primary {
  color: var(--app-primary);
}

.bg-primary {
  background-color: var(--app-primary);
}

.border-primary {
  border-color: var(--app-primary);
}

.border-zinc-900 {
  border-color: #18181b;
}

.text-zinc-500 {
  color: #71717a;
}

/* ─── Tablas Markdown en tema oscuro (Chat / Preview) ─── */
.prose table {
  width: 100%;
  border-collapse: collapse;
  margin: 12px 0;
  font-size: 12px;
  table-layout: auto;
  word-wrap: break-word;
  display: block;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.prose thead,
.prose tbody,
.prose tr,
.prose th,
.prose td {
  display: revert;
}

.prose thead th {
  background-color: var(--app-primary, #a855f7);
  color: white;
  padding: 8px 10px;
  text-align: left;
  font-weight: 600;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-bottom: 2px solid rgba(255, 255, 255, 0.15);
  white-space: nowrap;
}

.prose tbody td {
  padding: 6px 10px;
  border-bottom: 1px solid #27272a;
  font-size: 11px;
  vertical-align: top;
  color: #d4d4d8;
}

.prose tbody tr:nth-child(even) {
  background-color: rgba(255, 255, 255, 0.03);
}

.prose tbody tr:hover {
  background-color: rgba(168, 85, 247, 0.08);
}

[data-theme='asesorias'] .prose thead th {
  background-color: #7c3aed;
}

/* ─── Tablas en PDF (tema claro para PlanGenerator) ─── */
.markdown-pdf table {
  width: 100%;
  border-collapse: collapse;
  margin: 10px 0;
  font-size: 10px;
}

.markdown-pdf th {
  background-color: #7c3aed;
  color: white;
  padding: 6px 8px;
  text-align: left;
  font-weight: 600;
  font-size: 9px;
  text-transform: uppercase;
}

.markdown-pdf td {
  padding: 5px 8px;
  border-bottom: 1px solid #eee;
  font-size: 10px;
}

.markdown-pdf tr:nth-child(even) {
  background-color: #faf9fd;
}

/* ─── Solución para Error oklch en PDF (html2canvas incompatibility) ─── */
[id^="pdf-"], 
[id^="pdf-"] *,
.pdf-section, 
.pdf-section * {
  /* Forzamos colores HEX/RGB standard para evitar oklch() de Tailwind 4 */
  --color-primary: #7c3aed !important;
  --color-background: #ffffff !important;
  --color-surface: #ffffff !important;
  --color-accent: #f97316 !important;
  
  /* Sobrescribimos cualquier variable de DaisyUI o Tailwind 4 que use oklch */
  color: #1a1a1a;
  border-color: #eeeeee;
  background-color: transparent;
}

/* Forzar colores específicos para elementos comunes en el PDF */
[id^="pdf-"] h1, [id^="pdf-"] h2, [id^="pdf-"] h3 { color: #7c3aed !important; }
[id^="pdf-"] th { background-color: #7c3aed !important; color: white !important; }
[id^="pdf-"] td { border-bottom: 1px solid #eeeeee !important; }
[id^="pdf-"] p, [id^="pdf-"] li, [id^="pdf-"] div { color: #1a1a1a !important; }
